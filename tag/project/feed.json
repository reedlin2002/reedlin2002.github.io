{
    "version": "https://jsonfeed.org/version/1",
    "title": "Welcome to Reedlin2002's Page • All posts by \"project\" tag",
    "description": "用來記錄學習與開發的歷程",
    "home_page_url": "https://reedlin2002.github.io",
    "items": [
        {
            "id": "https://reedlin2002.github.io/2025/07/19/LocalAIAgentAPI/",
            "url": "https://reedlin2002.github.io/2025/07/19/LocalAIAgentAPI/",
            "title": "📍 | LocalAIAgentAPI",
            "date_published": "2025-07-19T07:34:20.000Z",
            "content_html": "<h1 id=\"學習專案localaiagentapi-從零開始的-ai-整合練習\"><a class=\"markdownIt-Anchor\" href=\"#學習專案localaiagentapi-從零開始的-ai-整合練習\">#</a> 學習專案：LocalAIAgentAPI - 從零開始的 AI 整合練習</h1>\n<blockquote>\n<p>這週挑戰自己整合多個 AI 模型，順便為面試準備一些實戰經驗。雖然是練習專案，但收穫比想像中還要多。</p>\n</blockquote>\n<div id=\"gallery\">\n  <a href=\"/images/LocalAIAgentAPI_frontend.png\">\n    <img data-src=\"/images/LocalAIAgentAPI_frontend.png\" alt=\"前端頁面\" style=\"max-width: 600px;\">\n  </a>\n</div>\n<hr>\n<h2 id=\"學習目標\"><a class=\"markdownIt-Anchor\" href=\"#學習目標\">#</a> 學習目標</h2>\n<p>作為一個正在準備面試的開發者，我給自己設定了一個挑戰：<br>\n能不能在一週內整合多種 AI 模型，做出一個像樣的測試平台？</p>\n<p>說實話，一開始我也不確定能做到什麼程度。但想說既然要學，不如就設個有挑戰性的目標：</p>\n<ul>\n<li>練習 .NET 8 的新特性</li>\n<li>熟悉 AI 模型整合的流程，這應該是未來的趨勢</li>\n<li>為面試準備一些能拿出手的作品</li>\n<li>順便踩踩坑，累積一些真實的開發經驗</li>\n</ul>\n<blockquote>\n<p>結果沒想到，這個學習過程遠比我預期的有趣。每天回家寫 code，看到專案從無到有的感覺真的很讚。</p>\n</blockquote>\n<h2 id=\"localaiagentapi\"><a class=\"markdownIt-Anchor\" href=\"#localaiagentapi\">#</a> LocalAIAgentAPI</h2>\n<p>這個專案基本上就是我這週學習筆記的具現化。我想透過實作來理解一些平常只能紙上談兵的問題：</p>\n<p>怎麼在 .NET 中整合不同類型的 AI 模型？每個模型的 API 都不一樣，要怎麼設計統一的介面？REST API 的架構要怎麼設計才不會讓未來的自己想哭？前端跟後端的資料交換有哪些眉角？錯誤處理和日誌記錄該做到什麼程度？</p>\n<p>雖然是練習專案，但我還是盡量按照真實專案的標準來做。</p>\n<hr>\n<h2 id=\"building\"><a class=\"markdownIt-Anchor\" href=\"#building\">#</a> Building</h2>\n<p>這一週下來，我大概涉獵了這些領域：</p>\n<p><strong>後端架構</strong>：.NET 8 Web API、依賴注入、Middleware<br>\n 老實說，之前對 .NET 8 的依賴注入只是停留在「知道有這個東西」的階段，實際動手做才發現它比想像中強大很多。</p>\n<p><strong>AI 整合</strong>：Ollama LLM、ONNX 圖片分類、Tesseract OCR<br>\n 每個模型的整合方式都不太一樣，這讓我對「統一介面設計」有了更深的體會。</p>\n<p><strong>API 設計</strong>：RESTful API、輸入驗證、回應格式統一<br>\n如何讓不同模型的回應格式保持一致，這個問題比我想的複雜多了。</p>\n<p><strong>前端互動</strong>：簡單的 HTML/JS、檔案上傳、即時回應<br>\n雖然前端不是我的強項，但現在有很多非常好用的 AI 工具 像是 ChatGPT、Claude 等，都協助我設計好的 UI 和功能。</p>\n<p><strong>測試工具</strong>：Swagger 整合、API 測試<br>\n Swagger 真的是開發者的好朋友，設定完就有完整的測試介面。</p>\n<p><strong>錯誤處理</strong>：全域異常處理、Timeout 機制<br>\n踩了不少坑，但也學到如何優雅地處理各種意外狀況。</p>\n<hr>\n<h2 id=\"problems\"><a class=\"markdownIt-Anchor\" href=\"#problems\">#</a> Problems</h2>\n<p>一週要整合這麼多東西，當然會遇到一些讓人頭痛的問題：</p>\n<p><strong>模型載入失敗</strong>：一開始 LLAMA2 模型老是載入不起來，debug 了半天才發現是 Ollama 路徑的問題。</p>\n<p><strong>回應時間過長</strong>：某些 LLM 推理需要很長時間，一開始沒設 Timeout，結果前端就一直等等等。體驗直接崩潰。</p>\n<p><strong>資料格式轉換</strong>：不同模型的輸入輸出格式差異很大，光是設計統一的 API 介面就花了不少時間思考。</p>\n<p><strong>圖片處理</strong>：從前端上傳圖片到後端處理，編碼的部分搞了我一陣子。有些知識真的要實作過才會印象深刻。</p>\n<blockquote>\n<p>不過每解決一個問題，就覺得又成長了一點。這大概就是寫 code 最爽的地方吧。</p>\n</blockquote>\n<hr>\n<h2 id=\"learning\"><a class=\"markdownIt-Anchor\" href=\"#learning\">#</a> Learning</h2>\n<h3 id=\"技術層面\"><a class=\"markdownIt-Anchor\" href=\"#技術層面\">#</a> 技術層面</h3>\n<p>對 .NET 8 的依賴注入和 Middleware 機制有了更深入的理解。之前都是看文件學習，實際用過才知道哪些地方容易出錯。</p>\n<p>了解了不同 AI 模型的整合方式和各自的限制。每種模型都有自己的脾氣，要花時間去摸索。</p>\n<p>練習了 API 設計和錯誤處理的一些最佳實踐。雖然還不敢說做得很好，但至少知道該注意什麼。</p>\n<p>熟悉了前後端資料交換的完整流程。之前都是分別學習，這次算是串起來了。</p>\n<h3 id=\"軟實力\"><a class=\"markdownIt-Anchor\" href=\"#軟實力\">#</a> 軟實力</h3>\n<p><strong>問題解決能力</strong>：遇到問題時如何有效地搜尋資料、閱讀文件、測試假設。</p>\n<p><strong>學習方法</strong>：如何在有限時間內快速掌握新技術的核心概念。</p>\n<p><strong>架構思維</strong>：開始思考如何設計可維護、可擴展的系統架構。</p>\n<hr>\n<h3 id=\"這個專案\"><a class=\"markdownIt-Anchor\" href=\"#這個專案\">#</a> 這個專案</h3>\n<p>我會誠實地說：「這是我為了學習 AI 整合和準備面試而做的練習專案。功能相對簡單，但我把重點放在架構設計和程式碼品質上。」</p>\n<ul>\n<li>為什麼選擇這些技術組合？各有什麼優缺點？</li>\n<li>開發過程中遇到的最大挑戰是什麼？如何解決的？</li>\n<li>如果要將這個專案擴展成正式產品，需要加強哪些部分？</li>\n<li>從這次經驗中學到最重要的一課是什麼？</li>\n</ul>\n<blockquote>\n<p>我覺得展現學習態度和解決問題的思路，比專案本身的完成度更重要。</p>\n</blockquote>\n<hr>\n<h2 id=\"next-week\"><a class=\"markdownIt-Anchor\" href=\"#next-week\">#</a> Next Week！</h2>\n<p>這個專案讓我嚐到了甜頭，也發現了很多可以改進的地方：</p>\n<p><strong>程式碼重構</strong>：有些地方寫得匆忙，想練習如何重構成更乾淨的程式碼。</p>\n<p><strong>容器化部署</strong>：嘗試用 Docker 打包，體驗現代化的部署流程。</p>\n<hr>\n<h2 id=\"專案原始碼\"><a class=\"markdownIt-Anchor\" href=\"#專案原始碼\">#</a> 專案原始碼</h2>\n<p>GitHub Repo: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3JlZWRsaW4yMDAyL0xvY2FsQUlBZ2VudEFQSQ==\">reedlin2002/LocalAIAgentAPI</span></p>\n<p><strong>重要提醒</strong>：這是我的學習練習專案，程式碼品質可能還有很大改進空間，絕對不建議直接用在正式環境中。但如果你也在學習相關技術，歡迎參考或給我一些建議。</p>\n<p>如果發現任何問題或有改進建議，也歡迎開 Issue 讓我學習。畢竟一個人閉門造車很容易有盲點。</p>\n<hr>\n<blockquote>\n<p>每週挑戰一個小專案，慢慢累積實戰經驗。雖然距離真正的高手還很遠，但至少在正確的路上前進。</p>\n</blockquote>\n<link\n  rel=\"stylesheet\"\n  href=\"https://cdn.jsdelivr.net/npm/lightgallery@2.7.1/css/lightgallery-bundle.min.css\"\n/>\n<script src=\"https://cdn.jsdelivr.net/npm/lightgallery@2.7.1/lightgallery.min.js\"></script>\n<script src=\"https://cdn.jsdelivr.net/npm/lightgallery@2.7.1/plugins/zoom/lg-zoom.min.js\"></script>\n<script>\n  lightGallery(document.getElementById(\"gallery\"), {\n    plugins: [lgZoom],\n    speed: 300,\n    zoom: true\n  });\n</script>",
            "tags": [
                "project"
            ]
        },
        {
            "id": "https://reedlin2002.github.io/2025/07/05/UrlHealthMonitor/",
            "url": "https://reedlin2002.github.io/2025/07/05/UrlHealthMonitor/",
            "title": "🌐 | 網站健康監控平台",
            "date_published": "2025-07-05T13:44:35.000Z",
            "content_html": "<h1 id=\"net-url-health-monitor-以-docker-部署的網站監控服務\"><a class=\"markdownIt-Anchor\" href=\"#net-url-health-monitor-以-docker-部署的網站監控服務\">#</a> 🚀 .NET URL Health Monitor - 以 Docker 部署的網站監控服務</h1>\n<blockquote>\n<p>這是一個基於 .NET 8 的 URL 健康檢查服務，提供即時監控結果與可視化儀表板，支援 Docker 容器化部署。</p>\n</blockquote>\n<p>►  「 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3JlZWRsaW4yMDAyL1VybEhlYWx0aE1vbml0b3I=\">GITHUB</span> 」</p>\n<hr>\n<h2 id=\"專案緣起\"><a class=\"markdownIt-Anchor\" href=\"#專案緣起\">#</a> 💡 專案緣起</h2>\n<p>在現代化的網站運維中，服務的可用性監控至關重要。在日常網站維運中，我們常需要定期檢查多個 URL 的可用性，並記錄歷史狀態供追蹤。本專案希望：</p>\n<ul>\n<li>自動化監控：每 30 秒自動檢查所有註冊的 URL</li>\n<li>視覺化儀表板：以簡易 Web UI 呈現最近監控結果</li>\n<li>簡易管理：CLI 指令快速管理監控清單、使用 SQLite 儲存歷史資料</li>\n<li>提供容器化部署：Docker 一鍵部署，跨平台支援</li>\n</ul>\n<hr>\n<h2 id=\"️-專案技術\"><a class=\"markdownIt-Anchor\" href=\"#️-專案技術\">#</a> 🛠️ 專案技術</h2>\n<p>🟢 後端核心</p>\n<blockquote>\n<p>框架：.NET 8 Worker Service + <span class=\"exturl\" data-url=\"aHR0cDovL0FTUC5ORVQ=\">ASP.NET</span> Minimal API<br>\n 語言：C#（Async/Await + 依賴注入）<br>\n資料庫：SQLite 輕量級資料庫</p>\n</blockquote>\n<p>🟡 測試與品質</p>\n<blockquote>\n<p>測試框架：xUnit + FluentAssertions<br>\n 開發方法：採用 TDD 思維</p>\n</blockquote>\n<p>🟣 前端</p>\n<blockquote>\n<p>介面：簡易 Web Dashboard<br>\n 技術：HTML5 + CSS3 + Vanilla JavaScript</p>\n</blockquote>\n<p>🟠 部署運維</p>\n<blockquote>\n<p>容器化：Docker<br>\n 環境支援：Linux / Windows /macOS</p>\n</blockquote>\n<hr>\n<h2 id=\"️-執行方式\"><a class=\"markdownIt-Anchor\" href=\"#️-執行方式\">#</a> ⚙️ 執行方式</h2>\n<h3 id=\"開發模式-本機執行\"><a class=\"markdownIt-Anchor\" href=\"#開發模式-本機執行\">#</a> 開發模式 (本機執行)</h3>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet run -- add &lt;URL&gt;       # 新增要監控的 URL</span><br><span class=\"line\">dotnet run -- list            # 列出所有 URL</span><br><span class=\"line\">dotnet run -- remove &lt;ID&gt;     # 移除指定 URL</span><br><span class=\"line\">dotnet run -- serve           # 啟動 Web UI</span><br></pre></td></tr></table></figure>\n<p>打開 <span class=\"exturl\" data-url=\"aHR0cDovL2xvY2FsaG9zdDo1MDAw\">http://localhost:5000</span> 查看 Dashboard。</p>\n<h3 id=\"docker-部署\"><a class=\"markdownIt-Anchor\" href=\"#docker-部署\">#</a> Docker 部署</h3>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 建置映像</span><br><span class=\"line\">docker build -t urlhealthmonitor .</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 執行容器</span><br><span class=\"line\">docker run -d -p 5001:5000 --name urlhealthmonitor urlhealthmonitor</span><br></pre></td></tr></table></figure>\n<p>打開 <span class=\"exturl\" data-url=\"aHR0cDovL2xvY2FsaG9zdDo1MDAx\">http://localhost:5001</span> 查看 Dashboard。</p>\n<hr>\n<h2 id=\"實際示範\"><a class=\"markdownIt-Anchor\" href=\"#實際示範\">#</a> 🌐 實際示範</h2>\n<div id=\"gallery\">\n  <a href=\"/images/UrlHealthMonitor-01.png\">\n    <img data-src=\"/images/UrlHealthMonitor-01.png\" alt=\"記帳頁面\" style=\"max-width: 600px;\">\n  </a>\n</div>\n<hr>\n<h2 id=\"tdd-測試\"><a class=\"markdownIt-Anchor\" href=\"#tdd-測試\">#</a> 🧪 TDD 測試</h2>\n<h3 id=\"測試\"><a class=\"markdownIt-Anchor\" href=\"#測試\">#</a> 測試</h3>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet test</span><br></pre></td></tr></table></figure>\n<p>測試範圍：</p>\n<ul>\n<li>HTTP 請求狀態檢查</li>\n<li>超時處理</li>\n<li>資料庫操作</li>\n</ul>\n<hr>\n<h2 id=\"未來擴展\"><a class=\"markdownIt-Anchor\" href=\"#未來擴展\">#</a> 🚀 未來擴展</h2>\n<ul>\n<li>RESTful API 支援</li>\n<li>整合通知 (EMAIL / LINE)</li>\n<li>監控數據視覺化</li>\n</ul>\n<hr>\n<p>技術與應用方法：<br>\n.NET 8、C#（Async/Await + 依賴注入）、SQLite、xUnit + FluentAssertions（TDD 開發流程）、Docker、HttpClient（網站監控）、CLI 、JavaScript + HTML/CSS</p>\n<h2 id=\"心得\"><a class=\"markdownIt-Anchor\" href=\"#心得\">#</a> 📝 心得</h2>\n<blockquote>\n<p>針對 TDD、HTTP 協議這兩個技術練習了這個「HTTP 狀態碼偵測器」，在撰寫程式碼的過程中因為使用的是很久沒碰的 C# 一開始確實有些生疏，經常忘記變數宣告的語法規則，但隨著練習逐漸找回手感。在 Docker 部屬上，常常遇到檔案不知道放哪裡的問題，不過經過一番 ChatGPT 的協助和一番研究也是弄好了～也靠著 TDD 學會了更可靠的程式碼，先用測試再寫功能，確保程式碼符合預期，減少 BUG，培養良好的開發習慣</p>\n</blockquote>\n<link\n  rel=\"stylesheet\"\n  href=\"https://cdn.jsdelivr.net/npm/lightgallery@2.7.1/css/lightgallery-bundle.min.css\"\n/>\n<script src=\"https://cdn.jsdelivr.net/npm/lightgallery@2.7.1/lightgallery.min.js\"></script>\n<script src=\"https://cdn.jsdelivr.net/npm/lightgallery@2.7.1/plugins/zoom/lg-zoom.min.js\"></script>\n<script>\n  lightGallery(document.getElementById(\"gallery\"), {\n    plugins: [lgZoom],\n    speed: 300,\n    zoom: true\n  });\n</script>",
            "tags": [
                "project"
            ]
        },
        {
            "id": "https://reedlin2002.github.io/2025/06/25/ollama/",
            "url": "https://reedlin2002.github.io/2025/06/25/ollama/",
            "title": "🧠 | 聊天機器人",
            "date_published": "2025-06-25T15:43:59.000Z",
            "content_html": "<h1 id=\"用-ollama-langchain-打造本地-ai-工具型-agent含-rag-文件問答\"><a class=\"markdownIt-Anchor\" href=\"#用-ollama-langchain-打造本地-ai-工具型-agent含-rag-文件問答\">#</a> 用 Ollama + LangChain 打造本地 AI 工具型 Agent（含 RAG 文件問答）</h1>\n<blockquote>\n<p>這是一個我為了學習與實驗所做的小型 side project，目的是了解如何在本地端結合 LLM、LangChain 工具框架與 RAG（檢篩式問答）系統，實作出一個能夠回答問題、查天氣、計算數學，甚至查詢本地知識檔案的智能助手。</p>\n</blockquote>\n<hr>\n<h2 id=\"專案目標\"><a class=\"markdownIt-Anchor\" href=\"#專案目標\">#</a> 🔧 專案目標</h2>\n<blockquote>\n<p>✫️ 建立一個 AI 助手系統，具備：</p>\n</blockquote>\n<ul>\n<li>多工具整合能力（如計算器、天氣查詢）</li>\n<li>基於本地文字檔的知識問答功能（RAG）</li>\n<li>使用自己裝好模型的 Ollama + LangChain Agent 結構</li>\n</ul>\n<hr>\n<h2 id=\"系統流程圖\"><a class=\"markdownIt-Anchor\" href=\"#系統流程圖\">#</a> 系統流程圖</h2>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">使用者輸入問題</span><br><span class=\"line\">    ↓</span><br><span class=\"line\">判斷是否需呼叫工具？</span><br><span class=\"line\">    ↓</span><br><span class=\"line\">【需要工具的流程】                                           【不需要工具的流程】</span><br><span class=\"line\">LangChain Agent 分析                 直接呼叫 LLM → LLM 生成回答 → 輸出結果給使用者</span><br><span class=\"line\">    ↓</span><br><span class=\"line\">選擇對應 Tool</span><br><span class=\"line\">    ├ Calculator Tool</span><br><span class=\"line\">    │</span><br><span class=\"line\">    ├ Get Weather Tool  </span><br><span class=\"line\">    │</span><br><span class=\"line\">    └ RAG Tool</span><br><span class=\"line\">        ├ TextLoader 載入檔案</span><br><span class=\"line\">        ├ Text Splitter 切段</span><br><span class=\"line\">        ├ HuggingFaceEmbeddings 向量化</span><br><span class=\"line\">        └ FAISS 向量資料庫檢索</span><br><span class=\"line\">    ↓</span><br><span class=\"line\">Ollama LLM (Mistral)</span><br><span class=\"line\">    ↓</span><br><span class=\"line\">生成回答</span><br><span class=\"line\">    ↓</span><br><span class=\"line\">輸出結果給使用者</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"套件與技術\"><a class=\"markdownIt-Anchor\" href=\"#套件與技術\">#</a> 套件與技術</h2>\n<table>\n<thead>\n<tr>\n<th>技術</th>\n<th>用途</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubGFuZ2NoYWluLmNvbS8=\">LangChain</span></td>\n<td>組合 Agent 與工具</td>\n</tr>\n<tr>\n<td><span class=\"exturl\" data-url=\"aHR0cHM6Ly9vbGxhbWEuY29tLw==\">Ollama</span> (Mistral)</td>\n<td>本地執行的大語言模型</td>\n</tr>\n<tr>\n<td><code>Tool</code>  (LangChain)</td>\n<td>包裝可被 Agent 呼叫的功能</td>\n</tr>\n<tr>\n<td><code>RetrievalQA</code></td>\n<td>建立基於文字檔的問答鏈</td>\n</tr>\n<tr>\n<td><code>FAISS</code></td>\n<td>高效的向量資料庫</td>\n</tr>\n<tr>\n<td><code>HuggingFaceEmbeddings</code></td>\n<td>將文本轉換為向量的埋入模型</td>\n</tr>\n<tr>\n<td><code>TextLoader</code> ,  <code>CharacterTextSplitter</code></td>\n<td>處理本地文件內容</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3 id=\"核心程式\"><a class=\"markdownIt-Anchor\" href=\"#核心程式\">#</a> 核心程式</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># ⭐️ LLM 模型（使用 Ollama + Mistral）</span></span><br><span class=\"line\">llm = OllamaLLM(model=<span class=\"string\">&quot;mistral&quot;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ⭐️ 建立工具：Calculator / Get Weather</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">calculator</span>(<span class=\"params\">query</span>): <span class=\"keyword\">return</span> <span class=\"built_in\">str</span>(<span class=\"built_in\">eval</span>(query))</span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">get_weather</span>(<span class=\"params\">city</span>): <span class=\"keyword\">return</span> &#123;<span class=\"string\">&quot;台北&quot;</span>:<span class=\"string\">&quot;晴天30度&quot;</span>&#125;.get(city, <span class=\"string\">&quot;查無資料&quot;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ⭐️ RAG 工具：透過 FAISS 向量庫查詢本地 data.txt</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">build_rag_tool</span>():</span><br><span class=\"line\">    loader = TextLoader(<span class=\"string\">&quot;data.txt&quot;</span>)</span><br><span class=\"line\">    docs = loader.load()</span><br><span class=\"line\">    splits = CharacterTextSplitter(chunk_size=<span class=\"number\">500</span>).split_documents(docs)</span><br><span class=\"line\">    embeddings = HuggingFaceEmbeddings()</span><br><span class=\"line\">    vectorstore = FAISS.from_documents(splits, embeddings)</span><br><span class=\"line\">    retriever = vectorstore.as_retriever()</span><br><span class=\"line\">    rag_chain = RetrievalQA.from_chain_type(llm, retriever=retriever)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> Tool(name=<span class=\"string\">&quot;rag_tool&quot;</span>, func=rag_chain.run, description=<span class=\"string\">&quot;查詢本地知識文件&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"整合-tool-與-agent\"><a class=\"markdownIt-Anchor\" href=\"#整合-tool-與-agent\">#</a> 整合 Tool 與 Agent</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tools = [</span><br><span class=\"line\">    Tool.from_function(<span class=\"string\">&quot;calculator&quot;</span>, calculator, <span class=\"string\">&quot;數學計算&quot;</span>),</span><br><span class=\"line\">    Tool.from_function(<span class=\"string\">&quot;get_weather&quot;</span>, get_weather, <span class=\"string\">&quot;天氣查詢&quot;</span>),</span><br><span class=\"line\">    build_rag_tool()</span><br><span class=\"line\">]</span><br><span class=\"line\"></span><br><span class=\"line\">agent = initialize_agent(</span><br><span class=\"line\">    tools=tools,</span><br><span class=\"line\">    llm=llm,</span><br><span class=\"line\">    agent_type=AgentType.CHAT_ZERO_SHOT_REACT_DESCRIPTION,</span><br><span class=\"line\">    handle_parsing_errors=<span class=\"literal\">True</span>,</span><br><span class=\"line\">    verbose=<span class=\"literal\">False</span></span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"測試\"><a class=\"markdownIt-Anchor\" href=\"#測試\">#</a> 測試</h2>\n<h3 id=\"查詢天氣台北\"><a class=\"markdownIt-Anchor\" href=\"#查詢天氣台北\">#</a> 查詢天氣：台北</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">❓請輸入問題：查台北天氣</span><br><span class=\"line\">🧩 使用 [Agent] 處理中...</span><br><span class=\"line\"></span><br><span class=\"line\">Action: get_weather</span><br><span class=\"line\">Action Input: <span class=\"string\">&#x27;Taipei&#x27;</span></span><br><span class=\"line\">Observation: 晴天，30 度</span><br><span class=\"line\">Final Answer: 晴天，30 度</span><br></pre></td></tr></table></figure>\n<div id=\"gallery1\">\n  <a href=\"/images/ollama-Taipei.png\">\n    <img data-src=\"/images/ollama-Taipei.png\" alt=\"查詢天氣：台北\" style=\"max-width: 600px;\">\n  </a>\n</div>\n<hr>\n<h3 id=\"查詢天氣高雄\"><a class=\"markdownIt-Anchor\" href=\"#查詢天氣高雄\">#</a> 查詢天氣：高雄</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">❓請輸入問題：高雄幾度</span><br><span class=\"line\"></span><br><span class=\"line\">Action: get_weather</span><br><span class=\"line\">Action Input: <span class=\"string\">&#x27;高雄&#x27;</span></span><br><span class=\"line\">Observation: 小雨，27 度</span><br><span class=\"line\">Final Answer: 高雄今天是小雨且27度。</span><br></pre></td></tr></table></figure>\n<div id=\"gallery2\">\n  <a href=\"/images/ollama-KAO.png\">\n    <img data-src=\"/images/ollama-KAO.png\" alt=\"查詢天氣：高雄\" style=\"max-width: 600px;\">\n  </a>\n</div>\n<hr>\n<h3 id=\"數學運算\"><a class=\"markdownIt-Anchor\" href=\"#數學運算\">#</a> 數學運算</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">❓請輸入問題：12 * 3 + 5 是多少？</span><br><span class=\"line\"></span><br><span class=\"line\">Action: calculator</span><br><span class=\"line\">Action Input: <span class=\"string\">&#x27;12 * 3 + 5&#x27;</span></span><br><span class=\"line\">Observation: 45</span><br><span class=\"line\">Final Answer: 結果為45。</span><br></pre></td></tr></table></figure>\n<div id=\"gallery3\">\n  <a href=\"/images/ollama-math.png\">\n    <img data-src=\"/images/ollama-math.png\" alt=\"數學運算\" style=\"max-width: 600px;\">\n  </a>\n</div>\n<hr>\n<h3 id=\"問文件內容\"><a class=\"markdownIt-Anchor\" href=\"#問文件內容\">#</a> 問文件內容</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">❓請輸入問題：文件內容有提到什麼？</span><br><span class=\"line\"></span><br><span class=\"line\">Action: rag_tool</span><br><span class=\"line\">Observation: 文件提到了台灣、台北、自然風景、語言（台語、閩南語、客家話）、夜市與珍珠奶茶等。</span><br><span class=\"line\">Final Answer: 這份文件提到了台灣、台北、自然風景、文化與語言、以及夜市文化。</span><br></pre></td></tr></table></figure>\n<div id=\"gallery4\">\n  <a href=\"/images/ollama-RAG.png\">\n    <img data-src=\"/images/ollama-RAG.png\" alt=\"問文件內容\" style=\"max-width: 600px;\">\n  </a>\n</div>\n<hr>\n<h3 id=\"自然對話\"><a class=\"markdownIt-Anchor\" href=\"#自然對話\">#</a> 自然對話</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">❓請輸入問題：你好</span><br><span class=\"line\"></span><br><span class=\"line\">💬 使用 LLM 直接回答...</span><br><span class=\"line\">🤖 回答：您好！讓我有幸為您提供服務。如果您有任何問題，請隨時告知，我會盡力幫助您解決。</span><br></pre></td></tr></table></figure>\n<div id=\"gallery5\">\n  <a href=\"/images/ollama-LLM.png\">\n    <img data-src=\"/images/ollama-LLM.png\" alt=\"自然對話\" style=\"max-width: 600px;\">\n  </a>\n</div>\n<hr>\n<h2 id=\"結構\"><a class=\"markdownIt-Anchor\" href=\"#結構\">#</a> 📁 結構</h2>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">my-ollama/</span><br><span class=\"line\">│</span><br><span class=\"line\">├── main.py</span><br><span class=\"line\">├── data.txt       ← 本地知識庫文字檔</span><br><span class=\"line\">├── .venv/         ← 虛擬環境</span><br><span class=\"line\">├── requirements.txt</span><br></pre></td></tr></table></figure>\n<hr>\n<p>技術包含：<br>\nPython、LangChain、Ollama、Mistral 模型、FAISS、HuggingFace Embeddings、RetrievalQA、自訂工具函數（Calculator、Get Weather）</p>\n<h2 id=\"心得\"><a class=\"markdownIt-Anchor\" href=\"#心得\">#</a> 📝 心得</h2>\n<blockquote>\n<p>第一次接觸 LLM、LangChain、Agent 花了 2、3 天完成這個小應用。<br>\n這個 project 幫助我：</p>\n</blockquote>\n<ul>\n<li>熟悉 LangChain 中 Tool/Agent 的用法</li>\n<li>練習本地模型 Ollama 的載入與使用</li>\n<li>理解 RAG 的流程從文件切分到檢篩的設計邏輯</li>\n</ul>\n<link\n  rel=\"stylesheet\"\n  href=\"https://cdn.jsdelivr.net/npm/lightgallery@2.7.1/css/lightgallery-bundle.min.css\"\n/>\n<script src=\"https://cdn.jsdelivr.net/npm/lightgallery@2.7.1/lightgallery.min.js\"></script>\n<script src=\"https://cdn.jsdelivr.net/npm/lightgallery@2.7.1/plugins/zoom/lg-zoom.min.js\"></script>\n<script>\n    lightGallery(document.getElementById(\"gallery1\"), {\n    plugins: [lgZoom],\n    speed: 300,\n    zoom: true\n    });\n    lightGallery(document.getElementById(\"gallery2\"), {\n    plugins: [lgZoom],\n    speed: 300,\n    zoom: true\n    });\n    lightGallery(document.getElementById(\"gallery3\"), {\n    plugins: [lgZoom],\n    speed: 300,\n    zoom: true\n    });\n    lightGallery(document.getElementById(\"gallery4\"), {\n    plugins: [lgZoom],\n    speed: 300,\n    zoom: true\n    });\n    lightGallery(document.getElementById(\"gallery5\"), {\n    plugins: [lgZoom],\n    speed: 300,\n    zoom: true\n    });\n</script>",
            "tags": [
                "project"
            ]
        },
        {
            "id": "https://reedlin2002.github.io/2025/06/18/expenses/",
            "url": "https://reedlin2002.github.io/2025/06/18/expenses/",
            "title": "🤖 | 記帳小管家",
            "date_published": "2025-06-18T04:10:35.000Z",
            "content_html": "<h1 id=\"一個結合-react-前端與-flask-後端的個人記帳專案\"><a class=\"markdownIt-Anchor\" href=\"#一個結合-react-前端與-flask-後端的個人記帳專案\">#</a> 一個結合 React 前端與 Flask 後端的個人記帳專案</h1>\n<blockquote>\n<p>基於 Flask + React，快速打造可視化、具本地儲存功能的個人記帳工具，部署在 Render 免費平台。</p>\n</blockquote>\n<div id=\"gallery\">\n  <a href=\"/images/expenses_1.png\">\n    <img data-src=\"/images/expenses_1.png\" alt=\"記帳頁面\" style=\"max-width: 600px;\">\n  </a>\n</div>\n<hr>\n<h2 id=\"執行目標\"><a class=\"markdownIt-Anchor\" href=\"#執行目標\">#</a> 執行目標</h2>\n<p>希望做出一款簡單的記帳小工具，具有以下功能：</p>\n<ul>\n<li>支援每日紀錄多筆支出</li>\n<li>直覺的欄位輸入介面</li>\n<li>統計支出、圖表呈現</li>\n<li>可依週切換檢視區間</li>\n<li>支援本地儲存（localStorage）</li>\n<li>無須登入註冊，輕量、單機可用</li>\n</ul>\n<h2 id=\"技術使用\"><a class=\"markdownIt-Anchor\" href=\"#技術使用\">#</a> 技術使用</h2>\n<ul>\n<li><strong>Flask</strong>: Python 後端 Web Framework</li>\n<li><strong>HTML + React (CDN)</strong>: 前端創建主畫面</li>\n<li><strong>Babel (CDN)</strong>: 讓我們直接在 HTML 中操作 JSX</li>\n<li><strong>CSS</strong>: 自定義樣式</li>\n<li><strong><span class=\"exturl\" data-url=\"aHR0cDovL1JlbmRlci5jb20=\">Render.com</span></strong>: 免費部署 Platform</li>\n</ul>\n<h3 id=\"flask-後端\"><a class=\"markdownIt-Anchor\" href=\"#flask-後端\">#</a> Flask 後端</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># python</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> flask <span class=\"keyword\">import</span> Flask, render_template  <span class=\"comment\"># 匯入 Flask 框架與頁面渲染函式</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> os  <span class=\"comment\"># 匯入 os 模組，用於抓取環境變數</span></span><br><span class=\"line\"></span><br><span class=\"line\">app = Flask(__name__)  <span class=\"comment\"># 初始化 Flask 應用</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@app.route(<span class=\"params\"><span class=\"string\">&quot;/&quot;</span></span>)  </span><span class=\"comment\"># 當用戶訪問根目錄 `/` 時</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">index</span>():</span><br><span class=\"line\">    <span class=\"keyword\">return</span> render_template(<span class=\"string\">&quot;index.html&quot;</span>)  <span class=\"comment\"># 回傳前端頁面（templates/index.html）</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&quot;__main__&quot;</span>:</span><br><span class=\"line\">    <span class=\"comment\"># 讓 Flask 可以在本地測試，也能被 Render 部署（抓環境變數 PORT）</span></span><br><span class=\"line\">    port = <span class=\"built_in\">int</span>(os.environ.get(<span class=\"string\">&quot;PORT&quot;</span>, <span class=\"number\">5000</span>))</span><br><span class=\"line\">    app.run(host=<span class=\"string\">&quot;0.0.0.0&quot;</span>, port=port)</span><br></pre></td></tr></table></figure>\n<h3 id=\"前端-html-react\"><a class=\"markdownIt-Anchor\" href=\"#前端-html-react\">#</a> 前端 HTML + React</h3>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- index.html --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;&#123;&#123; url_for(&#x27;static&#x27;, filename=&#x27;css/style.css&#x27;) &#125;&#125;&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- React &amp; Babel CDN --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://unpkg.com/react@18/umd/react.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://unpkg.com/react-dom@18/umd/react-dom.development.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://unpkg.com/@babel/standalone/babel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- Chart.js for data visualization --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/chart.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 載入應用程式主程式 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/babel&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;&#123;&#123; url_for(&#x27;static&#x27;, filename=&#x27;js/app.js&#x27;) &#125;&#125;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>React 使用 CDN 形式加載，用  <code>babel</code>  直接執行 JSX 程式</p>\n</blockquote>\n<h2 id=\"react-應用程式-core\"><a class=\"markdownIt-Anchor\" href=\"#react-應用程式-core\">#</a> React 應用程式 core</h2>\n<h3 id=\"資料儲存方式\"><a class=\"markdownIt-Anchor\" href=\"#資料儲存方式\">#</a> 資料儲存方式</h3>\n<table>\n<thead>\n<tr>\n<th>元件</th>\n<th>功能說明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>App</code></td>\n<td>主控元件，負責整體狀態與資料流處理</td>\n</tr>\n<tr>\n<td><code>ExpenseForm</code></td>\n<td>表單元件，讓使用者輸入支出項目與金額</td>\n</tr>\n<tr>\n<td><code>ExpenseList</code></td>\n<td>顯示當日支出紀錄，並可即時動態更新</td>\n</tr>\n<tr>\n<td><code>WeeklyChart</code></td>\n<td>使用柱狀圖呈現每日支出金額，支援週次切換與點擊查看</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"架構設計\"><a class=\"markdownIt-Anchor\" href=\"#架構設計\">#</a> 架構設計</h3>\n<ul>\n<li>資料儲存：所有紀錄保存在 localStorage，依照日期分類。</li>\n<li>畫面互動：輸入資料即時更新列表與圖表，並保留在本地。</li>\n<li>視覺化統計：使用 Chart.js 呈現每日總支出，支援週次切換與點擊查看。</li>\n</ul>\n<p>技術包含：<br>\nPython、Flask、HTML、React、Babel、JavaScript、Chart.js、CSS、localStorage、<span class=\"exturl\" data-url=\"aHR0cDovL1JlbmRlci5jb20=\">Render.com</span></p>\n<h2 id=\"心得\"><a class=\"markdownIt-Anchor\" href=\"#心得\">#</a> 📝 心得</h2>\n<blockquote>\n<p>這是一個簡單的 Flask + React 應用，Side Project。</p>\n</blockquote>\n<link\n  rel=\"stylesheet\"\n  href=\"https://cdn.jsdelivr.net/npm/lightgallery@2.7.1/css/lightgallery-bundle.min.css\"\n/>\n<script src=\"https://cdn.jsdelivr.net/npm/lightgallery@2.7.1/lightgallery.min.js\"></script>\n<script src=\"https://cdn.jsdelivr.net/npm/lightgallery@2.7.1/plugins/zoom/lg-zoom.min.js\"></script>\n<script>\n  lightGallery(document.getElementById(\"gallery\"), {\n    plugins: [lgZoom],\n    speed: 300,\n    zoom: true\n  });\n</script>",
            "tags": [
                "project"
            ]
        },
        {
            "id": "https://reedlin2002.github.io/2025/06/09/program/",
            "url": "https://reedlin2002.github.io/2025/06/09/program/",
            "title": "📕 | PDF Reader",
            "date_published": "2025-06-09T13:10:31.000Z",
            "content_html": "<h1 id=\"pdf-reader\"><a class=\"markdownIt-Anchor\" href=\"#pdf-reader\">#</a> PDF Reader</h1>\n<blockquote>\n<p>這是一個利用 RAG（Retrieval-Augmented Generation），做的 PDF 閱讀工具，方便從 PDF 文件中查詢資訊。</p>\n</blockquote>\n<hr>\n<h2 id=\"技術架構\"><a class=\"markdownIt-Anchor\" href=\"#技術架構\">#</a> 技術架構</h2>\n<ul>\n<li>使用 Streamlit 做前端互動頁面，讓使用者上傳 PDF 並輸入問題。</li>\n<li>使用 PyPDF2 讀取 PDF 內容，jieba 進行分段。</li>\n<li>使用 SentenceTransformer 將文本轉成向量，再用 FAISS 建立向量搜尋索引。</li>\n<li>利用 Hugging Face 中文問答模型，從搜尋到的相關段落中找答案。</li>\n<li>將答案與參考段落顯示給使用者。</li>\n</ul>\n<p>RAG 技術透過檢索（Retrieval）+ 增強上下文（Augmentation）+ 生成回答（Generation）三步驟，讓模型根據提供的內容產出準確的答案。</p>\n<hr>\n<h2 id=\"rag-流程-簡易\"><a class=\"markdownIt-Anchor\" href=\"#rag-流程-簡易\">#</a> 🧩 RAG 流程 (簡易)</h2>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">提問 → 檢索相關內容 → 合併為上下文 → 模型生成回答</span><br></pre></td></tr></table></figure>\n<h3 id=\"1-retrieval檢索\"><a class=\"markdownIt-Anchor\" href=\"#1-retrieval檢索\">#</a> 1. Retrieval（檢索）</h3>\n<ul>\n<li>將 PDF 切成段落並建立向量表示（TF-IDF 或 embedding）</li>\n<li>使用 cosine similarity 找出與問題最相關的段落</li>\n</ul>\n<h3 id=\"2-augmentation增強\"><a class=\"markdownIt-Anchor\" href=\"#2-augmentation增強\">#</a> 2. Augmentation（增強）</h3>\n<ul>\n<li>將相關段落合併成上下文內容</li>\n<li>與問題一起輸入給模型</li>\n</ul>\n<h3 id=\"3-generation生成\"><a class=\"markdownIt-Anchor\" href=\"#3-generation生成\">#</a> 3. Generation（生成）</h3>\n<ul>\n<li>使用 Hugging Face 的中文 QA 模型回答問題</li>\n</ul>\n<hr>\n<h2 id=\"系統流程圖\"><a class=\"markdownIt-Anchor\" href=\"#系統流程圖\">#</a> 系統流程圖</h2>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[PDF 上傳] → [文字解析] → [中文分段]</span><br><span class=\"line\">                        ↓</span><br><span class=\"line\">           [段落向量化（TF-IDF）]</span><br><span class=\"line\">                        ↓</span><br><span class=\"line\">         [使用者提問 → 問題向量化]</span><br><span class=\"line\">                        ↓</span><br><span class=\"line\">         [計算相似度 → 取前 3 段]</span><br><span class=\"line\">                        ↓</span><br><span class=\"line\">        [合併上下文 + question]</span><br><span class=\"line\">                        ↓</span><br><span class=\"line\">         [丟進 HuggingFace QA 模型]</span><br><span class=\"line\">                        ↓</span><br><span class=\"line\">                 [產生回答]</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"程式\"><a class=\"markdownIt-Anchor\" href=\"#程式\">#</a> 程式</h2>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 建立段落的 TF-IDF 向量庫</span></span><br><span class=\"line\">chunk_vectors = vectorizer.fit_transform(chunks)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 將使用者問題向量化</span></span><br><span class=\"line\">query_vec = vectorizer.transform([user_question])</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 計算問題與各段落相似度</span></span><br><span class=\"line\">similarities = cosine_similarity(query_vec, chunk_vectors)[<span class=\"number\">0</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 取得前三個最高相似度段落索引</span></span><br><span class=\"line\">top_indices = similarities.argsort()[-<span class=\"number\">3</span>:][::-<span class=\"number\">1</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 聚合成上下文</span></span><br><span class=\"line\">top_chunks = [chunks[i] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> top_indices]</span><br><span class=\"line\">context = <span class=\"string\">&quot;\\n&quot;</span>.join(top_chunks)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 丟給問答模型產生答案</span></span><br><span class=\"line\">result = qa_pipeline(&#123;<span class=\"string\">&quot;question&quot;</span>: user_question, <span class=\"string\">&quot;context&quot;</span>: context&#125;)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>技術包含：<br>\nPython、Streamlit、PyPDF2、jieba、SentenceTransformers、FAISS、Hugging Face Transformers</p>\n<h2 id=\"心得\"><a class=\"markdownIt-Anchor\" href=\"#心得\">#</a> 📝 心得</h2>\n<blockquote>\n<p><strong>備註</strong>：這個程式是我學習 RAG 技術的初步嘗試，所以還有很多能夠優化的地方，請多指教。</p>\n</blockquote>\n",
            "tags": [
                "project"
            ]
        }
    ]
}